/*usuarios*/

create table usuario (
	id serial not null,
	login varchar(30) not null unique,
	senha varchar(255) not null,
	nome varchar(255) not null
);
alter table usuario 
add constraint pk_usuario
primary key(id);

/*produtos*/

CREATE TABLE Products (
    ProductId int NOT NULL,
    Title varchar(255) NOT NULL,
    Description varchar(255),
    Price decimal(10,2),
    CreatedAt datetime,
    CreatedBy varchar(255),
    PRIMARY KEY (ProductId)
);

CREATE TABLE ProductsOnOffer (
	ProductsOnOfferId int PRIMARY KEY, 
	ProductId int NOT NULL,   
	FOREIGN KEY(ProductId) REFERENCES Products(ProductId)
);

CREATE TABLE ProductsImages (
	ProductImageId int PRIMARY KEY AUTO_INCREMENT, 
	ProductId int NOT NULL,
    FileName nvarchar(255) not null, 
	FOREIGN KEY(ProductId) REFERENCES Products(ProductId)
);

CREATE TABLE Categories (
    CategoryId int NOT NULL AUTO_INCREMENT,
    Title varchar(255) NOT NULL,    
    PRIMARY KEY (CategoryId)
);
CREATE TABLE CarouselImages (
    CarouselImageId int NOT NULL AUTO_INCREMENT,
    FileName varchar(255) NOT NULL,    
    `Order` int not null,
    PRIMARY KEY (CarouselImageId)
);
insert into Products(Title, Description, Price,createdat,createdby) values 
('Guitarra Ibanez RG 7420Z',
'Ibanez RG 7420Z | HH | 7 Cordas | Weathered Black (WK)',2000,now(),'michael');

/*ProductsOnOffer*/
create table ProductsOnOffer(
	ProductsOnOfferId serial not null,
    ProductId int not null,
    Price decimal(10,2) not null,
	CreatedAt datetime not null,
    CreatedBy varchar(255) not null
);
alter table ProductsOnOffer 
add constraint pk_ProductsOnOfferId
primary key(ProductsOnOfferId); 